<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<title>Insert title here</title>
<style type="text/css">
		h2{ margin-left:60px;}
		#calc{
			border:1px solid gray;
			width:350px;
			text-align: center;
		}
		#formula{
			text-align: right;
			width:80%;
			margin-top:10px;
			margin-bottom:20px;
		}
		#resultDiv{
			text-align: left;
			margin-left:40px;
		}
		button{
			width:70px;
			height:70px;
		}
</style>
<script>

	$(function(){
		var preIsNum = false;
		var formula = $("#formula")
		var result = $("#result")
		var count = 0;
		
		$('#btn0').click(()=>{
			addNum(0);
		})
		$('#btn1').click(()=>{
			addNum(1);
		})
		$('#btn2').click(()=>{
			addNum(2);
		})
		$('#btn3').click(()=>{
			addNum(3);
		})
		$('#btn4').click(()=>{
			addNum(4);
		})
		$('#btn5').click(()=>{
			addNum(5);
		})
		$('#btn6').click(()=>{
			addNum(6);
		})
		$('#btn7').click(()=>{
			addNum(7);
		})
		$('#btn8').click(()=>{
			addNum(8);
		})
		$('#btn9').click(()=>{
			addNum(9);
		})

		$('#plus').click(()=>{
			addOper('+');
		})

		$('#minus').click(()=>{
			addOper('-');
		})

		$('#div').click(()=>{
			addOper('/');
		})

		$('#mul').click(()=>{
			addOper('*');
		})

		$('#ce').click(()=>{
			reset();
		})

		$('#cal').click(()=>{
			calc();
		})

		

		function addNum(n){
			if(formula.attr('value') == "" && n == 0 )
				return;
			let num = formula.attr('value');
			formula.attr('value',num+n);
			preIsNum = true;
		}

		function addOper(n){
			if(preIsNum == false)
				return;
			let num = formula.attr('value')
			formula.attr('value', num+n)
			preIsNum = false;
		}

		function reset(){
			formula.removeAttr('value');
		}

		function calc(){
			if(preIsNum == false)
				return;
			++count
			result.append(formula.attr('value')+"="+eval(formula.attr('value'))+"<br/>");
			formula.attr('value',"")
			preIsNum = false;
		}
	});

</script>
</head>
<body>
<h2>Encore Calculator</h2><p></p>
	<div id="calc">
		<input type="text" id="formula" value="" placeholder="0.0" readonly/>
		<div id="pad">
			<button id="btn7">7</button>
			<button id="btn8">8</button>
			<button id="btn9">9</button>
			<button id="plus">+</button>
			<button id="btn4">4</button>
			<button id="btn5">5</button>
			<button id="btn6">6</button>
			<button id="minus">-</button>
			<button id="btn1">1</button>
			<button id="btn2">2</button>
			<button id="btn3">3</button>
			<button id="mul">*</button>
			<button id="btn0">0</button>
			<button id="ce">CE</button>
			<button id="cal">=</button>
			<button id="div">/</button>
		</div>
		<div id="resultDiv">
			<h2>결 과 이 력</h2>
			<p id="result"></p>
		</div>
	</div>
</body>
</html>